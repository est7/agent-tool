---
description: "深度结构化思考，用于复杂决策和架构设计"
argument-hint: "<需要深度分析的问题或决策>"
---

# 深度思考 (Ultrathink)

执行结构化的深度思考过程，适用于复杂任务和重要决策。

## 使用方式

```
/ultrathink 微服务 vs 单体架构选择
/ultrathink 技术栈迁移方案评估
/ultrathink 系统性能瓶颈定位
```

## 思考框架

### 1. 问题分解 (Decomposition)

将复杂问题拆解为可管理的子问题：

```
原始问题
├── 子问题 A
│   ├── A.1 具体点
│   └── A.2 具体点
├── 子问题 B
│   ├── B.1 具体点
│   └── B.2 具体点
└── 子问题 C
    └── ...
```

### 2. MECE 分析

**M**utually **E**xclusive, **C**ollectively **E**xhaustive
（相互独立，完全穷尽）

确保分析覆盖所有可能性且无重叠：

| 维度 | 选项 A | 选项 B | 选项 C |
|------|--------|--------|--------|
| 技术复杂度 | ... | ... | ... |
| 团队能力匹配 | ... | ... | ... |
| 长期维护成本 | ... | ... | ... |
| 业务适配度 | ... | ... | ... |

### 3. 多视角审视

从不同角度评估方案：

- **技术视角**: 实现难度、技术风险、可扩展性
- **业务视角**: 业务价值、交付速度、机会成本
- **用户视角**: 体验影响、可用性、性能感知
- **运营视角**: 部署复杂度、监控能力、故障恢复

### 4. 交互确认

在关键决策点暂停，确认：
- 假设是否正确？
- 约束是否完整？
- 优先级是否对齐？

### 5. 证据支撑

所有结论必须有据可依：
- 官方文档引用
- 行业最佳实践
- 类似案例参考
- 量化数据支撑

## 适用场景

### 架构决策
```
/ultrathink 是否应该从单体迁移到微服务
```
分析点：团队规模、部署频率、服务边界、数据一致性需求

### 技术选型
```
/ultrathink React vs Vue vs Svelte 选择
```
分析点：团队经验、生态成熟度、性能需求、长期维护

### 性能优化
```
/ultrathink API 响应时间从 2s 降到 200ms
```
分析点：瓶颈定位、优化成本、收益预期、实施风险

### 系统设计
```
/ultrathink 设计高可用认证系统
```
分析点：可用性要求、安全等级、扩展预期、合规需求

### 遗留系统现代化
```
/ultrathink 10年老系统的渐进式重构策略
```
分析点：风险评估、业务连续性、团队技能、时间窗口

## 输出格式

```markdown
## 深度分析: {topic}

### 1. 问题定义
- **核心问题**: ...
- **约束条件**: ...
- **成功标准**: ...

### 2. 问题分解
...

### 3. MECE 分析矩阵
| 维度 | 选项A | 选项B | 选项C |
|------|-------|-------|-------|
| ... | ... | ... | ... |

### 4. 多视角评估
#### 技术视角
...

#### 业务视角
...

### 5. 权衡分析
- **选项A 优势**: ...
- **选项A 劣势**: ...
- **选项B 优势**: ...
- **选项B 劣势**: ...

### 6. 建议方案
- **推荐**: ...
- **理由**: ...
- **风险**: ...
- **缓解措施**: ...

### 7. 实施路径
1. ...
2. ...
3. ...

### 8. 验证问题（需要确认）
- [ ] 假设1是否成立？
- [ ] 约束2是否可以放宽？
- [ ] 优先级3是否正确？
```

## 何时使用

✅ **适合 Ultrathink**:
- 影响深远的架构决策
- 多方案权衡比较
- 复杂系统设计
- 技术债务偿还策略
- 团队/流程变革

❌ **不适合 Ultrathink**:
- 简单的 Bug 修复
- 明确的功能实现
- 日常代码审查
- 直接的技术问答
